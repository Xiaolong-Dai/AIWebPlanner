# AI Web Planner 用户使用手册

## 📖 目录

1. [快速开始](#快速开始)
2. [功能介绍](#功能介绍)
3. [详细使用指南](#详细使用指南)
4. [常见问题](#常见问题)
5. [技巧和建议](#技巧和建议)

---

## 🚀 快速开始

### 第一步: 注册账号

1. 打开应用,进入登录页面
2. 点击"注册"标签
3. 输入邮箱和密码(密码至少6位)
4. 点击"注册"按钮
5. 查收验证邮件并完成验证

### 第二步: 配置API密钥

首次登录后会看到欢迎引导,按照提示配置API密钥:

**必需配置:**
- **Supabase**: 用于数据存储
  - Supabase URL
  - Supabase Anon Key
- **阿里云通义千问**: 用于AI智能规划
  - API Key

**可选配置:**
- **高德地图**: 用于地图展示
- **科大讯飞**: 用于语音识别

> 💡 提示: 在设置页面可以测试每个API的连接状态

### 第三步: 创建第一个旅行计划

1. 点击"创建计划"按钮
2. 在聊天框输入旅行需求,例如:
   ```
   我想去日本东京,5天4晚,预算1万元,2个人,喜欢美食和动漫
   ```
3. 等待AI生成详细行程
4. 查看生成的行程和地图
5. 点击"保存行程"并输入计划名称

---

## 🎯 功能介绍

### 1. Dashboard (仪表盘)

**功能:**
- 查看旅行计划统计(总数、进行中、已完成、总预算)
- 快速访问最近的5个计划
- 快捷创建新计划

**适用场景:**
- 快速了解所有旅行计划概况
- 快速访问常用计划

### 2. 创建计划

**功能:**
- AI智能对话生成行程
- 语音输入旅行需求(需配置科大讯飞)
- 实时地图预览
- 查看详细行程安排

**AI理解的信息:**
- 目的地
- 旅行天数
- 预算范围
- 同行人数
- 旅行偏好(美食、购物、文化、自然等)

**示例输入:**
```
我想去成都,3天2晚,预算3000元,1个人,喜欢美食和历史文化
```

### 3. 我的行程

**功能:**
- 查看所有旅行计划
- 按状态筛选(全部/草稿/已确认/已完成/已归档)
- 查看、编辑、删除计划

**计划状态说明:**
- 🟠 **草稿**: 刚创建,还在规划中
- 🔵 **已确认**: 行程已确定,准备出发
- 🟢 **已完成**: 旅行已结束
- ⚪ **已归档**: 已归档的历史计划

### 4. 计划详情

**功能:**
- 查看完整的计划信息
- 四个视图:
  - **详细行程**: 每日行程安排
  - **地图视图**: 在地图上查看所有地点
  - **费用记录**: 查看所有费用
  - **行程时间轴**: 时间线视图

**操作:**
- 编辑计划
- 查看预算统计
- 查看费用明细

### 5. 预算管理

**功能:**
- 记录旅行费用
- 查看费用统计图表
- AI预算分析和建议

**费用类别:**
- 🚗 交通
- 🏨 住宿
- 🍜 餐饮
- 🎫 景点
- 🛍️ 购物
- 📦 其他

**统计图表:**
- 费用分类饼图
- 每日费用柱状图

### 6. 设置

**功能:**
- 配置API密钥
- 测试API连接
- 查看使用文档
- 清除配置

---

## 📚 详细使用指南

### 如何创建一个完美的旅行计划?

#### 1. 准备阶段

在与AI对话前,先思考以下问题:
- 想去哪里?
- 什么时候去?去几天?
- 预算是多少?
- 和谁一起去?
- 有什么特殊偏好?

#### 2. 与AI对话

**好的输入示例:**
```
我想在7月去云南大理和丽江,7天6晚,预算8000元,
2个人,喜欢自然风光和民族文化,不喜欢太累的行程
```

**不好的输入示例:**
```
我想去旅游
```

**提示:**
- 信息越详细,AI生成的行程越准确
- 可以多次对话调整行程
- 可以要求AI修改某一天的安排

#### 3. 查看和调整

AI生成行程后:
1. 仔细查看每日安排
2. 检查地图上的路线是否合理
3. 如需调整,继续与AI对话
4. 满意后保存计划

#### 4. 确认计划

保存后:
1. 进入"我的行程"
2. 找到刚创建的计划
3. 点击"编辑"
4. 将状态改为"已确认"

### 如何管理旅行预算?

#### 1. 出发前

1. 在计划详情页查看AI建议的预算分配
2. 根据实际情况调整预算
3. 记录已支付的费用(如机票、酒店预订)

#### 2. 旅行中

1. 每天记录当天的费用
2. 查看预算使用情况
3. 根据剩余预算调整后续消费

**快速记录技巧:**
- 使用语音输入(如已配置)
- 拍照保存小票,回酒店后统一录入
- 使用备注字段记录详细信息

#### 3. 旅行后

1. 补充遗漏的费用
2. 查看费用统计图表
3. 使用AI分析预算执行情况
4. 为下次旅行提供参考

### 如何使用地图功能?

#### 查看行程地图

1. 在计划详情页切换到"地图视图"
2. 地图上会显示所有景点、餐厅、酒店的标记
3. 点击标记查看详细信息

#### 地图操作

- **缩放**: 鼠标滚轮或双指缩放
- **拖动**: 鼠标拖动或单指拖动
- **查看详情**: 点击标记点

---

## ❓ 常见问题

### Q1: 为什么需要配置API密钥?

**A:** 本应用使用多个第三方服务:
- Supabase: 存储你的数据
- 通义千问: 提供AI智能规划
- 高德地图: 显示地图和路线
- 科大讯飞: 语音识别

这些服务需要API密钥才能使用。

### Q2: API密钥安全吗?

**A:** 是的。你的API密钥只保存在浏览器本地存储中,不会上传到任何服务器。

### Q3: 可以不配置可选的API吗?

**A:** 可以。但会影响部分功能:
- 不配置地图: 无法显示地图视图
- 不配置语音: 无法使用语音输入

### Q4: AI生成的行程不满意怎么办?

**A:** 你可以:
1. 继续与AI对话,要求修改
2. 保存后在编辑页面手动调整
3. 重新开始创建

### Q5: 如何删除计划?

**A:** 
1. 进入"我的行程"
2. 找到要删除的计划
3. 点击"删除"按钮
4. 确认删除

**注意:** 删除后无法恢复!

### Q6: 可以导出行程吗?

**A:** 目前版本暂不支持导出功能,后续版本会添加。

### Q7: 数据会丢失吗?

**A:** 不会。所有数据都保存在Supabase云端,只要不删除,数据会一直保存。

### Q8: 可以在手机上使用吗?

**A:** 可以。本应用采用响应式设计,支持手机、平板、电脑等设备。

---

## 💡 技巧和建议

### 创建计划的技巧

1. **详细描述需求**: 信息越详细,AI生成的行程越准确
2. **分步调整**: 先生成大致行程,再逐步调整细节
3. **参考预算**: 让AI根据预算推荐合适的酒店和餐厅
4. **考虑交通**: 提到交通偏好(如不想太早起床、不喜欢赶路)

### 预算管理技巧

1. **及时记录**: 每天记录当天费用,避免遗忘
2. **分类清晰**: 正确选择费用类别,便于统计分析
3. **使用备注**: 在备注中记录详细信息(如餐厅名称、购买物品)
4. **定期查看**: 每天查看预算使用情况,及时调整

### 行程规划建议

1. **不要排太满**: 留出自由活动时间
2. **考虑距离**: 同一天的景点尽量在同一区域
3. **预留缓冲**: 每天预留1-2小时缓冲时间
4. **灵活调整**: 根据实际情况随时调整行程

### 使用AI的技巧

1. **明确需求**: 清楚表达你的需求和偏好
2. **多次对话**: 不满意可以继续对话调整
3. **具体问题**: 问具体问题,如"第三天的行程太累了,能否调整?"
4. **参考建议**: AI的建议仅供参考,最终决定权在你

---

## 📞 获取帮助

如果遇到问题:

1. **查看文档**: 先查看本手册和测试指南
2. **检查配置**: 确认API密钥配置正确
3. **测试连接**: 在设置页面测试API连接
4. **查看控制台**: 按F12打开浏览器控制台查看错误信息

---

## 🎉 开始你的旅行规划之旅!

现在你已经了解了AI Web Planner的所有功能,开始规划你的下一次旅行吧!

**祝你旅途愉快!** ✈️🌍🎒

