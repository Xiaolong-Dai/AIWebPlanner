# âŒ é”™è¯¯ä¿®å¤æŒ‡å—

## ğŸ› ä½ é‡åˆ°çš„é”™è¯¯

è¿è¡Œ `.\docker-deploy.ps1` æ—¶å‡ºç°ç½‘ç»œè¿æ¥é”™è¯¯:

```
failed to fetch oauth token: Post "https://auth.docker.io/token": 
dial tcp 157.240.7.8:443: connectex: A connection attempt failed
```

**é—®é¢˜åŸå› **: Docker æ— æ³•è¿æ¥åˆ° Docker Hub ä¸‹è½½é•œåƒ

---

## âœ… å¿«é€Ÿè§£å†³æ–¹æ¡ˆ (3 æ­¥)

### ç¬¬ 1 æ­¥: æ‰“å¼€ Docker Desktop è®¾ç½®

1. å³é”®ç‚¹å‡»ç³»ç»Ÿæ‰˜ç›˜çš„ **Docker å›¾æ ‡** (é²¸é±¼å›¾æ ‡)
2. é€‰æ‹© **"Settings"** (è®¾ç½®)
3. åœ¨å·¦ä¾§èœå•é€‰æ‹© **"Docker Engine"**

### ç¬¬ 2 æ­¥: æ·»åŠ é•œåƒåŠ é€Ÿå™¨

åœ¨é…ç½®ç¼–è¾‘å™¨ä¸­,æ·»åŠ ä»¥ä¸‹å†…å®¹:

```json
{
  "registry-mirrors": [
    "https://docker.m.daocloud.io",
    "https://docker.1panel.live",
    "https://hub.rat.dev"
  ]
}
```

**æ³¨æ„äº‹é¡¹**:
- å¦‚æœé…ç½®æ–‡ä»¶ä¸­å·²æœ‰å…¶ä»–å†…å®¹,åªéœ€æ·»åŠ  `"registry-mirrors"` è¿™ä¸€è¡Œ
- ç¡®ä¿ JSON æ ¼å¼æ­£ç¡® (æ³¨æ„é€—å·å’Œæ‹¬å·)
- ä¸è¦åˆ é™¤åŸæœ‰çš„é…ç½®

**å®Œæ•´é…ç½®ç¤ºä¾‹**:
```json
{
  "builder": {
    "gc": {
      "defaultKeepStorage": "20GB",
      "enabled": true
    }
  },
  "experimental": false,
  "registry-mirrors": [
    "https://docker.m.daocloud.io",
    "https://docker.1panel.live",
    "https://hub.rat.dev"
  ]
}
```

### ç¬¬ 3 æ­¥: åº”ç”¨å¹¶é‡å¯

1. ç‚¹å‡»å³ä¸‹è§’çš„ **"Apply & Restart"** æŒ‰é’®
2. ç­‰å¾… Docker Desktop é‡å¯ (çº¦ 30-60 ç§’)
3. ç¡®è®¤ Docker å›¾æ ‡å˜ä¸ºç»¿è‰²

---

## ğŸ” éªŒè¯é…ç½®æ˜¯å¦æˆåŠŸ

æ‰“å¼€ PowerShell,è¿è¡Œ:

```powershell
docker info | Select-String "Registry Mirrors"
```

å¦‚æœçœ‹åˆ°ç±»ä¼¼ä»¥ä¸‹è¾“å‡º,è¯´æ˜é…ç½®æˆåŠŸ:

```
Registry Mirrors:
  https://docker.m.daocloud.io/
  https://docker.1panel.live/
  https://hub.rat.dev/
```

---

## ğŸš€ é‡æ–°è¿è¡Œéƒ¨ç½²

é…ç½®å®Œæˆå,é‡æ–°è¿è¡Œéƒ¨ç½²è„šæœ¬:

```powershell
.\docker-deploy.ps1
```

è¿™æ¬¡åº”è¯¥å¯ä»¥æ­£å¸¸ä¸‹è½½é•œåƒå¹¶æ„å»ºäº†!

---

## ğŸ“‹ å¯é€‰: ä½¿ç”¨è¾…åŠ©è„šæœ¬

æˆ‘å·²ç»åˆ›å»ºäº†ä¸€ä¸ªè¾…åŠ©è„šæœ¬æ¥å¸®åŠ©ä½ é…ç½®:

```powershell
.\fix-docker-network.ps1
```

è¿™ä¸ªè„šæœ¬ä¼š:
- âœ… æ˜¾ç¤ºæ¨èçš„é•œåƒæº
- âœ… æä¾›é…ç½®ç¤ºä¾‹
- âœ… å°è¯•æ‰“å¼€ Docker è®¾ç½®é¡µé¢
- âœ… éªŒè¯é…ç½®æ˜¯å¦æˆåŠŸ

---

## ğŸŒŸ æ¨èçš„é•œåƒæº

### å›½å†…å…¬å…±é•œåƒæº (æ¨è)

| é•œåƒæº | åœ°å€ | ç‰¹ç‚¹ |
|--------|------|------|
| **DaoCloud** | https://docker.m.daocloud.io | ç¨³å®šå¯é ,é€Ÿåº¦å¿« |
| **1Panel** | https://docker.1panel.live | æ–°å…´é•œåƒæº,é€Ÿåº¦å¥½ |
| **Rat Dev** | https://hub.rat.dev | å¤‡ç”¨é€‰æ‹© |

### äº‘æœåŠ¡å•†é•œåƒæº

| æœåŠ¡å•† | åœ°å€ | è¯´æ˜ |
|--------|------|------|
| **é˜¿é‡Œäº‘** | https://xxxxxx.mirror.aliyuncs.com | éœ€è¦ç™»å½•è·å–ä¸“å±åœ°å€ |
| **è…¾è®¯äº‘** | https://mirror.ccs.tencentyun.com | å…¬å¼€å¯ç”¨ |
| **ç½‘æ˜“äº‘** | https://hub-mirror.c.163.com | å…¬å¼€å¯ç”¨ |

---

## ğŸ’¡ é˜¿é‡Œäº‘é•œåƒåŠ é€Ÿå™¨ (æœ€æ¨è)

å¦‚æœä½ æœ‰é˜¿é‡Œäº‘è´¦å·,å¼ºçƒˆæ¨èä½¿ç”¨é˜¿é‡Œäº‘çš„ä¸“å±é•œåƒåŠ é€Ÿå™¨:

### è·å–æ­¥éª¤:

1. è®¿é—®: https://cr.console.aliyun.com/cn-hangzhou/instances/mirrors
2. ç™»å½•é˜¿é‡Œäº‘è´¦å·
3. å¤åˆ¶ä½ çš„ä¸“å±åŠ é€Ÿå™¨åœ°å€

### é…ç½®ç¤ºä¾‹:

```json
{
  "registry-mirrors": [
    "https://xxxxxx.mirror.aliyuncs.com"
  ]
}
```

æ›¿æ¢ `xxxxxx` ä¸ºä½ çš„å®é™…åŠ é€Ÿå™¨åœ°å€ã€‚

---

## â“ å¸¸è§é—®é¢˜

### Q1: é…ç½®åè¿˜æ˜¯æŠ¥åŒæ ·çš„é”™è¯¯?

**A**: 
1. ç¡®è®¤ Docker Desktop å·²ç»é‡å¯å®Œæˆ
2. æ£€æŸ¥ JSON æ ¼å¼æ˜¯å¦æ­£ç¡®
3. å°è¯•æ›´æ¢å…¶ä»–é•œåƒæº
4. è¿è¡Œ `docker info` ç¡®è®¤é…ç½®å·²ç”Ÿæ•ˆ

### Q2: æ‰¾ä¸åˆ° Docker Engine è®¾ç½®?

**A**: 
1. ç¡®ä¿ Docker Desktop å·²ç»å¯åŠ¨
2. åœ¨è®¾ç½®ä¸­æŸ¥æ‰¾ "Docker Engine" æˆ– "Daemon"
3. å¦‚æœæ˜¯æ—§ç‰ˆæœ¬,å¯èƒ½å« "Daemon" æ ‡ç­¾

### Q3: ç‚¹å‡» Apply & Restart å Docker æ— æ³•å¯åŠ¨?

**A**: 
1. æ£€æŸ¥ JSON æ ¼å¼æ˜¯å¦æ­£ç¡® (ä½¿ç”¨ JSON éªŒè¯å·¥å…·)
2. æ¢å¤å¤‡ä»½é…ç½®
3. é‡æ–°å®‰è£… Docker Desktop

### Q4: æ‰€æœ‰é•œåƒæºéƒ½æ— æ³•ä½¿ç”¨?

**A**: 
1. æ£€æŸ¥é˜²ç«å¢™è®¾ç½®
2. æ£€æŸ¥ç½‘ç»œä»£ç†é…ç½®
3. è”ç³»ç½‘ç»œç®¡ç†å‘˜ (å¦‚æœåœ¨ä¼ä¸šç½‘ç»œ)
4. å°è¯•ä½¿ç”¨ VPN

---

## ğŸ”§ å…¶ä»–è§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆ 1: é…ç½®ç½‘ç»œä»£ç†

å¦‚æœä½ ä½¿ç”¨ä»£ç†ä¸Šç½‘:

1. æ‰“å¼€ Docker Desktop è®¾ç½®
2. é€‰æ‹© "Resources" â†’ "Proxies"
3. é…ç½®ä»£ç†æœåŠ¡å™¨åœ°å€

### æ–¹æ¡ˆ 2: ä¿®æ”¹ DNS

åœ¨ Docker Engine é…ç½®ä¸­æ·»åŠ :

```json
{
  "dns": [
    "8.8.8.8",
    "114.114.114.114"
  ]
}
```

### æ–¹æ¡ˆ 3: æ¸…ç† Docker ç¼“å­˜

```powershell
# æ¸…ç†æ„å»ºç¼“å­˜
docker builder prune -a

# æ¸…ç†æ‰€æœ‰æœªä½¿ç”¨çš„èµ„æº
docker system prune -a
```

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- ğŸ“– [ç½‘ç»œé—®é¢˜è§£å†³æ–¹æ¡ˆ.md](ç½‘ç»œé—®é¢˜è§£å†³æ–¹æ¡ˆ.md) - è¯¦ç»†çš„è§£å†³æ–¹æ¡ˆ
- ğŸ”§ [fix-docker-network.ps1](fix-docker-network.ps1) - è¾…åŠ©é…ç½®è„šæœ¬
- ğŸš€ [docker-deploy.ps1](docker-deploy.ps1) - éƒ¨ç½²è„šæœ¬

---

## ğŸ¯ å®Œæ•´æµç¨‹æ€»ç»“

1. âœ… æ‰“å¼€ Docker Desktop è®¾ç½®
2. âœ… è¿›å…¥ Docker Engine é…ç½®
3. âœ… æ·»åŠ  registry-mirrors é…ç½®
4. âœ… ç‚¹å‡» Apply & Restart
5. âœ… ç­‰å¾… Docker é‡å¯å®Œæˆ
6. âœ… éªŒè¯é…ç½®: `docker info`
7. âœ… è¿è¡Œéƒ¨ç½²: `.\docker-deploy.ps1`

---

**é—®é¢˜**: Docker æ— æ³•è¿æ¥åˆ° Docker Hub  
**åŸå› **: ç½‘ç»œè¿æ¥é—®é¢˜  
**è§£å†³**: é…ç½®é•œåƒåŠ é€Ÿå™¨  
**æ—¶é—´**: çº¦ 5 åˆ†é’Ÿ  
**éš¾åº¦**: â­â­â˜†â˜†â˜† (ç®€å•)

**é…ç½®å®Œæˆå,éƒ¨ç½²åº”è¯¥å¯ä»¥æ­£å¸¸è¿›è¡Œ!** ğŸ‰

